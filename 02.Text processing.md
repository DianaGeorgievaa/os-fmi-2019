**Зад.1**

Сортирайте /etc/passwd лексикографски по поле UserID

sort  -t: -k3 /etc/passwd

**Зад.2**

Сортирайте /etc/passwd числово по поле UserID.

(Открийте разликите с лексикографската сортировка)

sort  -n -t: -k3 /etc/passwd

**Зад.3**

Изведете само 1-ва и 5-та колона на файла /etc/passwd спрямо разделител &quot;:&quot;.

cut –d: -f1,5 /etc/passwd

**Зад.4**

Изведете съдържанието на файла /etc/passwd от 2-ри до 6-ти символ.

cut  -c 2-6 /etc/passwd | head –n 1

**Зад.5**

Намерете броя на символите в /etc/passwd. А колко реда има в /etc/passwd?

cat /etc/passed | wc –m

cat /etc/passwd | wc -l

**Зад.6**

Извадете от файл /etc/passwd:

- първите 12 реда :

 head –n 12 /etc/passwd

- първите 26 символа :

 cut –c 1-26 /etc/passwd | head –n 1

- всички редове, освен последните 4:

head –n $(($ (wc –l \&lt; /etc/passwd) -4)) /etc/passwd

или

head –n -4

- последните 17 реда :

  tail –n 17 /etc/passwd

- 151-я ред :

 cat /etc/passwd| head –n 151 | tail –n 1

- последните 4 символа от 13-ти ред

cat /etc/passwd | head –n 13 | tail –n 1 | tail –c 4

**Зад.7**

Отпечатайте потребителските имена и техните home директории от /etc/passwd.

cut –d: -f1,6 /etc/passwd | cut –d / -f1,2

**Зад.8**

Отпечатайте втората колона на /etc/passwd, разделена спрямо символ &#39;/&#39;.

cut –d / /etc/passwd –f2

**Зад.9**

Запаметете във файл в своята home директория резултатът от командата ls -l изпълнена за вашата home директорията.

Сортирайте създадения файла по второ поле (numeric, alphabetically).

ls –l | sort  –k2 < file.txt

ls –l | sort –n –k2 < file.txt



**Зад.10**

Отпечатайте 2 реда над вашия ред в /etc/passwd и 3 реда под него // може да стане и без пайпове

grep –B2  -A3 –w "s62162" /etc/passwd

**Зад.11**

Колко хора не се казват Ivan според /etc/passwd

grep –v  –w  "Ivan" /etc/passwd | wc -l

**Зад.12**

Изведете имената на хората с второ име по-дълго от 7символа според /etc/passwd

cut –d: -f5 /etc/passwd | awk –F " " 'length($2)>7 {print $1}';

**Зад.13**

Изведете имената на хората с второ име по-късо от 8 символа според /etc/passwd

cut –d: -f5 /etc/passwd | awk –F " " 'length($2)\&lt;7 {print $1}';

**Зад.14**

Изведете целите редове от /etc/passwd за хората от 03-a-5003

cat /etc/passwd | grep 'x:[0-9]\+:[0-9]\+:\([a-zA-Z]\+\s\)\([a-zA-Z]\{1,7\}\)'

**Зад.15**

Намерете факултетния си номер във файлa /etc/passwd.

grep  "Diana Georgieva" /etc/passwd | cut –c 2-6

**Зад.16**

Запазете само потребителските имена от /etc/passwd във файл users във вашата home директория.

cut –d: -f1 /etc/passwd < users.txt

**Зад.17**

Колко коментара има във файла /etc/services ? Коментарите се маркират със символа #, след който всеки символ на реда се счита за коментар

grep "#"; /etc/services | wc -c

**Зад.18**

Вижте man 5 services. Напишете команда, която ви дава името на протокол с порт естествено число N. Командата да не отпечатва нищо, ако търсения порт не съществува (например при порт 1337). Примерно, ако номера на порта N е 69, командата трябва да отпечати tftp.

 grep "69/" /etc/services | tr -s [:blank:] | cut -d" " -f 1 | uniq

**Зад.19**

Колко файлове в /bin са shell script? (Колко файлове в дадена директория са ASCII text?)

find /bin –type f –exec file { } + | grep "Shell script" | wc –l

**Зад.20**

Направете списък с директориите на вашата файлова система, до които нямате достъп. Понеже файловата система може да е много голяма, търсете до 3 нива на дълбочина. А до кои директории имате достъп? Колко на брой са директориите, до които нямате достъп?

find . –maxdepth 3–type d 2> /dev/null

find . –maxdepth 3 –type d 2>&1 /dev/null | wc -l

**Зад.21**

Създайте следната файлова йерархия.

/home/s...../dir1/file1

/home/s...../dir1/file2

/home/s...../dir1/file3

touch /home/SI/s62162/dir/file{1,2,3}

Посредством vi въведете следното съдържание:

file1:

1

2

3

file2:

s

a

d

f

file3:

3

2

1

45

42

14

1

52

Изведете на екрана:

         статистика за броя редове, думи и символи за всеки един файл

                 wc –l –w –m file{1..3}

         статистика за броя редове и символи за всички файлове

                 cat file{1..3} | wc –l -m

         общия брой редове на трите файла

                 cat file{1..3} | wc -l

**Зад.22**

Във file2 подменете всички малки букви с главни.

sed –r –i &#39;s/([a-z])/\U\g&#39; file2

**Зад.23**

Във file3 изтрийте всички &quot;1&quot;-ци.

sed –r –i 's/([1])//g' file3

или

tr –d'1' < file3 ,но няма да запише промените

**Зад.24**

Изведете статистика за най-често срещаните символи в трите файла.

cat file{1..3} | grep –o . | sort | uniq –c | sort –n

**Зад.25**

Направете нов файл с име по ваш избор, който е конкатенация от file{1,2,3}.

Забележка: съществува решение с едно извикване на определена програма - опитайте да решите задачата чрез него.

cat file{1..3} > concatenated.txt

**Зад.26**

Прочетете текстов файл file1 и направете всички главни букви малки като запишете резултата във file2.

cat file1 | tr a-z A-Z > file2

**Зад.27**

Изтрийте всички срещания на буквата &#39;a&#39; (lower case) в /etc/passwd и намерете броят на оставащите символи.

cat /etc/passwd | tr –d'a'| wc -m

**Зад.28**

Намерете броя на уникалните символи, използвани в имената на потребителите от /etc/passwd.

cat /etc/passwd | grep –o . | sort  | uniq –u | wc –l

**Зад.29**

Отпечатайте всички редове на файла /etc/passwd, които не съдържат символния низ &#39;ov&#39;.

cat /etc/passwd | grep –v ov

**Зад.30**

Отпечатайте последната цифра на UID на всички редове между 28-ми и 46-ред в /etc/passwd.

tail –n +28 /etc/passwd | head –n 19 | cut –d: -f3 | awk {'print substr($0,length,1)'}

**Зад.31**

Отпечатайте правата (permissions) и имената на всички файлове, до които имате read достъп, намиращи се в директорията /tmp

ls –la /tmp -l | tr -s " " | cut -d" " -f 1,9 | grep "^-r"

**Зад.32**

Намерете имената на 10-те файла във вашата home директория, чието съдържание е редактирано най-скоро. На първо място трябва да бъде най-скоро редактираният файл. Намерете 10-те най-скоро достъпени файлове. (hint: Unix time)

find ~ -printf '%T@ %p\n' | sort -n  | tail -n 10

**Зад.33**

Файловете, които съдържат C код, завършват на `.c`.

Колко на брой са те във файловата система (или в избрана директория)?

Колко реда C код има в тези файлове?

cat $(find / -name &#39;\*.c&#39;) | wc –l

**Зад.34**

Даден ви е ASCII текстов файл (например /etc/services). Отпечатайте хистограма на N-те (например 10) най-често срещани думи.

tr -c '[:alnum:]' '[\n*]' < /etc/services | sort | uniq -c | sort -n | tail -n 10

**Зад.35**

Вземете факултетните номера на студентите от СИ и ги запишете във файл si.txt сортирани.

cat /etc/passwd | grep ‘SI’ | cut –c 2-6 | sort –n >facNumbers.txt 

**Зад.36**

За всеки логнат потребител изпишете &quot;Hello, потребител&quot;, като ако това е вашият потребител, напишете &quot;Hello, потребител - this is me!&quot;.

who –u | cut –d” ” –f1 | awk –v me=s62162 ‘{ print ($1==me)? “Hello,” $1 “-this is me!” : “Hello,” $1}’

Пример:

hello, human - this is me!

Hello, s63465

Hello, s64898

**Зад.37**

Изпишете имената на студентите от /etc/passwd с главни букви.

cut –d: -f5 </etc/passwd | cut –d, -f1| tr a-z A-Z 
